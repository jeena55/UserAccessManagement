# Security - Firewall
## Introduction

ใน **Linux kernel** มีส่วนประกอบที่เรียกว่า **Netfilter** ซึ่งใช้สำหรับการจัดการหรือกำหนดชะลอของการส่งข้อมูลเครือข่ายเข้าหรือผ่านเซิร์ฟเวอร์ของคุณ โซลูชันไฟร์วอล Linux ทุกอันสมัยใช้ระบบนี้สำหรับการกรองแพ็กเก็ตระบบการกรองแพ็กเก็ตของ kernel จะมีความเป็นประโยชน์น้อยสำหรับผู้ดูแลระบบหากไม่มีอินเตอร์เฟซของผู้ใช้ในพื้นที่การทำงาน นี่คือจุดที่ iptables มาช่วย: เมื่อแพ็กเก็ตมาถึงที่เซิร์ฟเวอร์ของคุณ มันจะถูกส่งไปยังส่วนประกอบ Netfilter เพื่อตอบรับ การจัดการ หรือปฏิเสธขึ้นอยู่กับกฎที่ได้รับจากพื้นที่ทำงานผู้ใช้ผ่าน iptables ดังนั้น iptables เพียงพอสำหรับการจัดการไฟร์วอลของคุณหากคุณคุ้นเคยกับมัน แม้ว่าจะมีอินเตอร์เฟซหลายรูปแบบที่มีให้ใช้งานเพื่อการงานที่ง่ายขึ้น

## ufw - Uncomplicated Firewall

เครื่องมือการกำหนดค่าไฟร์วอลที่เริ่มต้นสำหรับ Ubuntu คือ ufw พัฒนาขึ้นเพื่อสะดวกในการกำหนดค่าไฟร์วอล iptables ufw ให้วิธีการใช้งานที่ใช้ง่ายในการสร้างไฟร์วอลเบสเริ่มต้น IPv4 หรือ IPv6โดยปกติ ufw จะถูกปิดใช้งานตั้งแต่เริ่มต้น ตาม ufw man page: "ufw ไม่ได้มีวัตถุประสงค์ที่จะให้ฟังก์ชันไฟร์วอลที่สมบูรณ์ผ่านอินเตอร์เฟซคำสั่งของมัน แต่มีวัตถุประสงค์ในการให้วิธีง่ายๆในการเพิ่มหรือลบกฎที่เรียบง่าย ๆ ปัจจุบันใช้สำหรับไฟร์วอลเบสเริ่มต้น"

 **ด้านล่างนี้เป็นตัวอย่างของวิธีการใช้งาน ufw**
 

แนวทางการใช้งาน ufw (Uncomplicated Firewall) เพื่อกำหนดกฎการทำงานของไฟวอลล์ในระบบ Linux โดยใช้คำสั่งต่าง ๆ ตามด้านล่างนี้:

 - เปิดใช้งาน ufw:

    `sudo ufw enable`

 - เปิดพอร์ต (ตัวอย่างเปิดพอร์ต SSH):

    `sudo ufw allow 22`

 - การเพิ่มกฎโดยระบุเลขลำดับ:

	`sudo ufw insert 1 allow 80` 

 - ปิดพอร์ตที่เปิดไว้:

	`sudo ufw deny 22` 

 - การลบกฎโดยระบุกฎ:

	`sudo ufw delete deny 22` 

 - อนุญาตการเข้าถึงจากโฮสต์หรือเครือข่ายที่ระบุ:

	`sudo ufw allow proto tcp from 192.168.0.2 to any port 22` 

	แทนที่ 192.168.0.2 ด้วย 192.168.0.0/24 เพื่ออนุญาตการเข้าถึง SSH จากทั้งเครือข่ายทั้งหมดใน subnet.

 - เพิ่มคำสั่ง --dry-run เพื่อดูกฎที่จะถูกสร้างโดย ufw แต่ไม่นำไปใช้:

	`sudo ufw --dry-run allow http` 

 - ปิดใช้งาน ufw:

	`sudo ufw disable` 

 - ตรวจสอบสถานะของไฟวอลล์:

	`sudo ufw status` 

 - ตรวจสอบสถานะของไฟวอลล์แบบ verbose:

	`sudo ufw status verbose` 

 - ดูกฎในรูปแบบเลขลำดับ:

	`sudo ufw status numbered`
